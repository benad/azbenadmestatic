---toml
title = "Norwegian Wood"
date = "2012-04-18T16:57:02-04:00"
permalink = "blog/2012/4/18/norwegian-wood/"
---

<div class='posterous_autopost'><p>So I just got by mail from Norway a bamboo USB key from <a href="http://www.opera.com/">Opera</a>, the makers of the <a href="http://www.opera.com/browser/">Opera web browser</a>. How? Because I won a contest from their <a href="http://my.opera.com/chooseopera/blog/2012/04/01/please-help-us-with-our-data-problem">April fool&rsquo;s</a>. If you signed up to their bogus &ldquo;we&rsquo;ll send you data to offload our servers&rdquo;, you would have gotten an email containing a bunch of ones and zeros. Of course, they were encoded messages. And here&rsquo;s how I decoded them, using Perl and the <a href="https://metacpan.org/module/perlpacktut">pack function</a>.</p>  <p>First, decoding the binary data. That was pretty easy:</p>  <div class="CodeRay"> <div class="code"><pre>perl -e '$_=&lt;&gt;;chomp;print pack(q{B*}, $_), qq{\n}'</pre></div> </div>   <p>That took care of the binary data. Now, the input was actually divided in two parts. The first decoded to a sequence of decimal numbers separated by spaces, the second some binary starting with the &ldquo;BZh&rdquo; which indicates <a href="en.wikipedia.org/wiki/Bzip2">Bzip2 data</a>. Uncompress that and you see a message about posting a tweet with the hashtag <code>#operaaprilfoolleet</code> to be eligible to win some contest, <a href="https://twitter.com/benad/statuses/186854242684899328">which I did</a>.</p>  <p>The first part with the sequence of decimal numbers was supposed to be easier (well, if you can&rsquo;t recognize a BZip2 header). The big distinction here is that the <code>pack</code> function requires the input to be separator-less, in this case spaces. Since you can&rsquo;t define decimal input padded as 3 digits, you&rsquo;re stuck sending the input as an array instead, which works great.</p>  <div class="CodeRay"> <div class="code"><pre>perl -e '$_=&lt;&gt;;chomp;@f=split(/ /);print pack(q{C*}, @f), qq{\n}'</pre></div> </div>   <p>That gave me the first message, this time asking to post the hashtag <code>#operaaprilfools</code>, <a href="https://twitter.com/benad/statuses/186858454688858112">which I did</a>.</p>  <p>With some luck I won the prize, an Opera-branded wood USB key, as you can see in the attached picture (<em>or <a href="http://d.pr/i/V3Wj">here</a></em>).</p></div>
