---toml
title = "DIY Backup"
date = "2016-02-24T22:56:28-05:00"
permalink = "blog/2016/2/24/diy-backup/"
---

<p>While in the past I did recommend <a href="http://www.code42.com/crashplan/">CrashPlan</a> as an online backup solution, I stopped using it in December. At first I used it because their multi-year, unlimited plans had reasonable prices, and was the only online backup (back in 2011) that had client-side encryption support. But over the years I ran into multiple major issues. In 2013, they started <a href="http://support.code42.com/CrashPlan/4/Troubleshooting/What_Is_Not_Backing_Up">excluding backing up iOS backups done in iTunes</a> in a transparent background update, even though they would <a href="https://twitter.com/crashplan/status/380445125257613312">publicly say otherwise</a>. In fact, that hidden file exclusion list was pushed from their "enterprise" version, which has now moved to a much nicer <a href="https://support.code42.com/Release_Notes/Code42_Platform/5.0">version 5</a> while they abandoned their home users to version 4. In November, their Linux client started requiring Java 1.7, so my older client running in 1.6 kept downloading updates and failing to install it until the hard drive was full. Their pricing just kept increasing over time, making it difficult for me to keep reniewing.</p>

<p>I moved to <a href="https://www.idrive.com/">iDrive</a>, which is half the cost of CrashPlan and works pretty well, though I'm still a bit worried that I have to trust client-side encryption to some closed-source software. Also, if you back up anything beyond 1 TB their pricing becomes punitive.</p>

<p>The main issue that I have with all those backup services is that your backups become locked-in into online storage plans that are more expensive than competing generic cloud storage providers, and your valuable backups are held hostage if they increase their pricing. Even <a href="https://www.tarsnap.com/">tarsnap</a>, with its open-source client for the paranoid, locks you in an expensive storage plan, since the client requires some closed-source server software that only they host. I miss the days of older backup software like <a href="https://en.wikipedia.org/wiki/Backup_%28software%29">MobileMe Backup</a>, where the backup software was somewhat separate from the actual storage solution.</p>

<p><a href="https://www.arqbackup.com/">Arq Backup</a> looks more like this traditional backup software I was looking for. It can back up to <a href="https://www.arqbackup.com/features/">a handful of cloud storage providers</a>, with different pricing models, and many with free initial storage plans if you have small backups. The software is $40 per machine, and then you're free to pick any support cloud storage. The software isn't open-source, but the <a href="http://sreitshamer.github.io/arq_restore/">recovery software</a> is <a href="https://github.com/sreitshamer/arq_restore">open-source</a> and <a href="http://www.haystacksoftware.com/arq/s3_data_format.txt">documented</a>, so you can vouch for its encryption to some extent.</p>

<p>But what if you're on Linux, or insist on an open-source solution (especially for the encryption part)? If you simply want to back up some files once, with no history, you can combine <a href="https://vgough.github.io/encfs/">encfs</a>, in "reverse" mode to have an encrypted view of your existing files, with <a href="http://rclone.org/">Rclone</a>. Note that with this approach extended file information may be lost in the transfer. If you want a more thourough versioned backup solution, <a href="http://duplicity.nongnu.org/index.html">Duplicity</a> should work fine. It encrypts the files with GPG, and does file-level binary deltas to make backup files as small as possible. If duplicity doesn't support your cloud storage directly, you can store the backups to disk and sync them with Rclone. To make using Duplicity easier, you can also use the wrapper tool <a href="http://duply.net/">duply</a>.</p>

<p>As for what cloud storage provider to use, it depends on your needs. If you can fit your backups in less than about 15 GB, you can use the free version of <a href="https://www.google.com/drive/">Google Drive</a>. If you want a flexible pricing and good performance at the lowest cost, <a href="https://cloud.google.com/storage-nearline/">Google Nearline</a> looks like a great deal at 0.01$ per GB per month. If you already have <a href="https://products.office.com/office-365-home">Office 365</a>, then you already have 1 TB of OneDrive, though downloads can be a bit slow. The Unlimited plan of <a href="https://www.amazon.com/clouddrive/">Amazon Cloud Drive</a> has good transfer speeds and is worry-free, though Duplicity doesn't support it.</p>
