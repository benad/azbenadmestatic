<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->
	<head>
		<meta charset="utf-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
                <title>Backing Up Two-Factor Authentication Keys - Benad's Web Site</title>
		<meta name="description" content=""/>
		<meta name="viewport" content="width=device-width"/>
		<link rel="stylesheet" href="/css/bootstrap.css"/>
		<link rel="stylesheet" href="/css/bootstrap-responsive.css"/>
		<link rel="stylesheet" href="/css/main.css"/>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="//feeds.feedburner.com/benad">
		<script src="/js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
	</head>
	<body>
            <!--[if lt IE 7]>
		<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/"> upgrade your browser</a> to improve your experience.</p>
                <![endif]-->
		<div class="container">

<div class="row">
        <h1 class="title">Benad's Web Site</h1>
        <h2 class="pageheader">Backing Up Two-Factor Authentication Keys</h2>
</div>
<div class="row">
        <div class="span2 pull-right sidebar">
                <p><a href="//benad.me/index.html">Home</a></p>
                <p><a href="/blog">Blog</a></p>
                <p><a href="//benad.me/me.html">About Me</a></p>
                <p><a href="//benad.me/meta.html">About This Site</a></p>
                <p><a href="//benad.me/articles.html">Articles</a></p>
                <p><a href="//benad.me/links.html">Links</a></p>
        </div>

        <div class="span8 offset2">
                <p>Two-factor authentication used to be required only for &ldquo;high security&rdquo; environments, like the millitary or banking. Usually in the form of a <a href="https://en.wikipedia.org/wiki/RSA_SecurID">physical &ldquo;key fob&rdquo;</a>, it was a dedicated &ldquo;something you have&rdquo; as the second factor. And then, in the early 2010s, Google released their <a href="https://en.wikipedia.org/wiki/Google_Authenticator">Google Authenticator App</a>, using your phone as the &ldquo;second factor&rdquo;. Since its early versions were open source, its core code generation algorithm, <a href="https://en.wikipedia.org/wiki/Time-based_One-time_Password_algorithm">ToTP</a>, was eventually formalized in <a href="https://tools.ietf.org/html/rfc6238">RFC 6238</a> and gained wide adoption.</p>

<p>The core problem of that &ldquo;something you have&rdquo; as a second factor is that it can be lost, or has to be replaced, both of which often happens with cellphones. What can also happen is that the <a href="https://news.ycombinator.com/item?id=6325760">ToTP App has a bug and wipes out your keys</a>, <a href="https://www.androidpolice.com/2012/03/22/psa-googles-authenticator-updated-to-v2-except-its-a-brand-new-app-and-you-need-to-install-it-to-get-future-updates-old-one-is-dead/">something that happened in an early version of Google Authentication</a>.</p>

<p>The recovery process varies from one site using ToTP to another, though it usually involves using some &ldquo;recovery codes&rdquo; you should keep in a safe place. This was fine when a user only had only a handful of two-factor protected accounts, but nowadays, as two-factor is becoming mandatory in many sites, even for <a href="https://www.polygon.com/2020/4/28/21240024/epic-games-store-two-factor-authentication-2fa-free-games">just downloading a free game</a>, recovering dozens of accounts can become tedious.</p>

<p>So, should there be a way to backup and synchronize those two-factor keys? In its original physical key fob form, part of its high security is that it was not only physical, but almost impossible to duplicate. If you could transfer and copy your &ldquo;software key fobs&rdquo;, then you add the additional risk that somebody could steal your keys and your password. Still, a few two-factor apps offered to backup and sync your keys, encrypted with another password, for example <a href="https://authy.com/">Authy</a> and <a href="https://www.microsoft.com/en-us/account/authenticator">Microsoft Authenticator</a>, and now even some password managers like <a href="https://bitwarden.com/">Bitwarden</a>, <a href="https://www.lastpass.com/two-factor-authentication">LastPass</a> and <a href="https://1password.com/">1Password</a>.</p>

<p>This does raise the issue of &ldquo;vendor lock-in&rdquo;, as in the keys stored in one two-factor authenticator app may not be transferable to another app. While this could be done by design to make it difficult to extract the codes from a device, tying something that valuable in an app that could charge a subscription and increase its pricing at any time is quite a risk. While Authy is still free, it is still closed-source and some of us don&rsquo;t want to trust its business model. So, some code was developed to <a href="https://gist.github.com/gboudreau/94bb0c11a6209c82418d01a59d958c93">extract Authy keys from its desktop app</a>. I used this to copy my ToTP keys to another password manager for safekeeping.</p>

                <p>Published on May 18, 2020 at 18:32 EDT</p>
                <p>Older post: <a href="https://benad.me/blog/2020/02/09/the-app-subscription-model/">The App Subscription Model</a></p>
                <p>Newer post: <a href="https://benad.me/blog/2020/06/29/the-borderlands/">The Borderlands</a></p>
        </div>
        <div id="disqus_thread" class="span8 offset2"></div>
</div>
			<footer>
				<hr/>
				<p>Benad's Web Site by Benoit Nadeau is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/2.5/ca/">Creative Commons Attribution-Share Alike 2.5 Canada License</a></p>
			</footer>
		</div>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script>window.jQuery || document.write('<script src="/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
		<script src="/js/vendor/bootstrap.min.js"></script>
		<script src="/js/main.js"></script>
		<script>
		var _gaq=[['_setAccount','UA-6588628-1'],['_trackPageview']];
		(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
		g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
		s.parentNode.insertBefore(g,s)}(document,'script'));
		</script>
		<script>
var disqus_config = function () {
this.page.url = window.location.protocol + "//" + window.location.hostname + "/blog/2020/05/18/backing-up-two-factor-authentication-keys/";
this.page.identifier = "https://benad.me/blog/2020/05/18/backing-up-two-factor-authentication-keys/";
this.page.title = "Backing Up Two-Factor Authentication Keys";
};
(function() {
if (window.location.hostname != 'benad.me')
    return;
var d = document, s = d.createElement('script');
var disqus_shortname = "benadmeblog";
s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
	</body>
</html>

