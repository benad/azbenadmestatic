<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->
	<head>
		<meta charset="utf-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
                <title>IPC between services in the JVM: Part 3 of 4 - Benad's Web Site</title>
		<meta name="description" content=""/>
		<meta name="viewport" content="width=device-width"/>
		<link rel="stylesheet" href="/css/bootstrap.css"/>
		<link rel="stylesheet" href="/css/bootstrap-responsive.css"/>
		<link rel="stylesheet" href="/css/main.css"/>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="//feeds.feedburner.com/benad">
		<script src="/js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
	</head>
	<body>
            <!--[if lt IE 7]>
		<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/"> upgrade your browser</a> to improve your experience.</p>
                <![endif]-->
		<div class="container">

<div class="row">
        <h1 class="title">Benad's Web Site</h1>
        <h2 class="pageheader">IPC between services in the JVM: Part 3 of 4</h2>
</div>
<div class="row">
        <div class="span2 pull-right sidebar">
                <p><a href="/index.html">Home</a></p>
                <p><a href="/blog">Blog</a></p>
                <p><a href="/me.html">About Me</a></p>
                <p><a href="/meta.html">About This Site</a></p>
                <p><a href="/articles.html">Articles</a></p>
                <p><a href="/links.html">Links</a></p>
        </div>

        <div class="span8 offset2">
                <div class="posterous_autopost"><p><strong>Shared Objects</strong></p>  <p>In &ldquo;UNIX System V&rdquo;, and OSes similar to it, there are basically two forms of inter-process communication: shared memory and message queues. In the case of OSGi inter-module communications, its service references kind of makes using shared objects the obvious choice.</p>  <p>While UNIX-like systems and their enforced memory protection force you to have to explicitly request shared memory regions, in OSGi all the modules run under the same object memory space, so all objects can be potentially shared. This means that for OSGi modules you can use a service reference that contains shared values that can be accessed directly or through accessor functions as a mean of implementing inter-module communications.</p>  <p>Now, the issue is that in typical cases different modules run in different threads, so sharing objects between them requires careful use of locking mechanisms. And this is the problem with this &ldquo;shared memory&rdquo; approach: it simple cases na√Øve locking works fine, in more complex cases you get deadlocks and obscure race conditions.</p>  <p>Using an embedded relational database like <a href="http://www.oracle.com/technetwork/java/javadb/overview/index.html">JavaDB</a> or <a href="http://www.h2database.com/">H2</a> to simplify the locking semantics while keeping high parallelism seems like a good idea, but those embedded databases ultimately use a single lock for the entire process as the database write lock, making parallelism limited for inter-module communications.</p></div>

                <p>Published on July 29, 2010 at 12:32 EDT</p>
                <p>Older post: <a href="https://benad.me/blog/2010/7/4/ipc-between-services-in-the-jvm-part-2-of-4">IPC between services in the JVM: Part 2 of 4</a></p>
                <p>Newer post: <a href="https://benad.me/blog/2010/7/30/mobileme-member-since-10-years">MobileMe: Member Since 10 Years!</a></p>
        </div>
        <div id="disqus_thread" class="span8 offset2"></div>
</div>
			<footer>
				<hr/>
				<p>Benad's Web Site by Benoit Nadeau is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/2.5/ca/">Creative Commons Attribution-Share Alike 2.5 Canada License</a></p>
			</footer>
		</div>
		<script src="/js/vendor/jquery-1.9.1.min.js"></script>
		<script src="/js/vendor/bootstrap.min.js"></script>
		<script src="/js/main.js"></script>
	</body>
</html>

