<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->
	<head>
		<meta charset="utf-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
                <title>Saving the Terminal to HTML - Benad's Web Site</title>
		<meta name="description" content=""/>
		<meta name="viewport" content="width=device-width"/>
		<link rel="stylesheet" href="/css/bootstrap.css"/>
		<link rel="stylesheet" href="/css/bootstrap-responsive.css"/>
		<link rel="stylesheet" href="/css/main.css"/>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="//feeds.feedburner.com/benad">
		<script src="/js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
	</head>
	<body>
            <!--[if lt IE 7]>
		<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/"> upgrade your browser</a> to improve your experience.</p>
                <![endif]-->
		<div class="container">

<div class="row">
        <h1 class="title">Benad's Web Site</h1>
        <h2 class="pageheader">Saving the Terminal to HTML</h2>
</div>
<div class="row">
        <div class="span2 pull-right sidebar">
                <p><a href="/index.html">Home</a></p>
                <p><a href="/blog">Blog</a></p>
                <p><a href="/me.html">About Me</a></p>
                <p><a href="/meta.html">About This Site</a></p>
                <p><a href="/articles.html">Articles</a></p>
                <p><a href="/links.html">Links</a></p>
        </div>

        <div class="span8 offset2">
                <p>When copy-pasting some text from my terminal to an email, I&rsquo;m often annoyed that all I get is the text, losing all the <a href="https://en.wikipedia.org/wiki/ANSI_escape_code">ANSI colors and formatting</a>. If you&rsquo;re using a newer release of the GNOME desktop, for example Ubuntu 18.04, you&rsquo;ll notice that when right-clicking in its Terminal, you can use &ldquo;Copy as HTML&rdquo;. But what if you want that HTML formatting for terminal output in other environments?</p>

<p>Originally, I was looking for something that would format the ANSI formatting of logs produced by <a href="https://www.gnu.org/software/screen/">GNU Screen</a>, or with the <code>script</code> command. Many commands that support ANSI formatting also support forcing that ANSI output to a file, though you may have to &ldquo;force&rdquo; it, for example <code>ls -l --color=always</code>. For displaying those logs to your terminal while &ldquo;replaying&rdquo; the ANSI control characters, <code>less -RX</code> works great, though I was looking for a way to &ldquo;export&rdquo; that in an email or text document.</p>

<p>The small tool <a href="https://github.com/theZiz/aha">aha</a>, the &ldquo;Ansi HTML Adapter&rdquo;, does the trick perfectly. Pipe in your ANSI formatted log, and it will pipe out a nicely formatted HTML document.</p>

<p>Now, ANSI control characters do a lot more than just formatting colors and font weight. It can effectively redraw any character on the terminal screen using absolute positioning, which allows things like Vim or countless programs using the <a href="https://en.m.wikipedia.org/wiki/Ncurses">ncurses</a> library. Or it could be as simple as a progress bar, or just pressing backspace. In those scenarios, what I&rsquo;d like to copy is a kind of &ldquo;video&rdquo; of the Terminal interaction, including &ldquo;timing&rdquo;, something that the previously mentioned GNO screen and <code>script</code> can&rsquo;t do.</p>

<p>For that, you can use <a href="https://asciinema.org/">asciinema</a>. You can start a recording with <code>asciinema rec myrecording.cast</code>, and end it with the <code>exit</code> command. To play it back, you can use <code>asciinema play myrecording.cast</code>. You can embed your recording <code>myrecording.cast</code> on a web page &ldquo;video player&rdquo; interface using <a href="https://github.com/asciinema/asciinema-player">asciinema-player</a>. If you want to export that to some a video or GIF, you can play it back in a terminal using something like <code>clear ; asciinema play myrecording.cast</code> and using a screen recorder. My screen recorder of choice on Ubuntu is <a href="https://github.com/phw/peek">Peek</a>, as it&rsquo;s simple to use and even supports recording to GIF (in addition to MP4 and OGG).</p>

                <p>Published on April 11, 2019 at 17:51 EDT</p>
                <p>Older post: <a href="https://benad.me/blog/2019/02/10/monorepos-and-semantic-versioning/">Monorepos and Semantic Versioning</a></p>
                <p>Newer post: <a href="https://benad.me/blog/2019/05/20/browsing-home/">Browsing Home</a></p>
        </div>
        <div id="disqus_thread" class="span8 offset2"></div>
</div>
			<footer>
				<hr/>
				<p>Benad's Web Site by Benoit Nadeau is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/2.5/ca/">Creative Commons Attribution-Share Alike 2.5 Canada License</a></p>
			</footer>
		</div>
		<script src="/js/vendor/jquery-1.9.1.min.js"></script>
		<script src="/js/vendor/bootstrap.min.js"></script>
		<script src="/js/main.js"></script>
	</body>
</html>

